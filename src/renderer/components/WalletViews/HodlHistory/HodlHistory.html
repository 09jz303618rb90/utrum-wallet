<div>

<!-- bootstrapvue alerts -->
    <div>
      <b-alert variant="danger"
               dismissible
               fade
               :show="showDismissibleAlert"
               @dismissed="showDismissibleAlert=false">
        {{alertErrorText}}
      </b-alert>

      <b-alert :show="dismissCountDown"
               dismissible
               fade
               variant="success"
               @dismissed="dismissCountDown=0"
               @dismiss-count-down="countDownChanged">
        {{alertText}}
        Refreshing in {{dismissCountDown}} seconds...
      </b-alert>
    </div>

<!-- table -->
    <div class="title-sec text-left">
        <span>HISTORY</span>
        <b-button size="sm" variant="link" @click="refreshTable" class="float-right">
            <i class="fas fa-sync"></i>
        </b-button>
    </div>
    <hr class="mb-0"/>

    <b-table  id="txTable"
    thead-tr-class="theadTrClass"
    tbody-tr-class="theadClass"
    thead-class="theadClass borderBottom"
    small
    :sort-desc.sync="sortDesc"
    :sort-by.sync="sortBy"
    :fields="fields"
    :items="txHistory"
    :current-page="currentPage"
    :per-page="perPage"
    ref="txTable"
    :busy.sync="isBusy"
    >

        <template slot="time" slot-scope="row">
            <span>{{dateFormat(row.value)}}</span>
        </template>


        <template slot="nLockTime" slot-scope="data">
            <span v-if="data.item.nLockTime > data.item.timeNow" class="hodlColor">{{ dateFormat(data.item.nLockTime) }}</span>
            <span v-else-if="data.item.nLockTime < data.item.timeNow && data.item.isSpent === false"
              @click="spendHodlUtxos(data.item.destAddr, data.item.redeemScript, data.item.nLockTime)"
              class="btn btn-tx">Claim!</span>
            <span v-else-if="data.item.nLockTime < data.item.timeNow && data.item.isSpent === true"
                class="hodlColor">ðŸŽ‰ Hodl Complete ðŸŽ‰</span>
            <span v-else>Normal Transaction</span>
        </template>

<!--
        <template slot="amount" slot-scope="row">
            <div :class="getColorAmount(row.value)">
                <span v-if="satoshiToBitcoin(row.value) > 0">+</span>
                <span v-else>-</span>
                {{satoshiToBitcoin(Math.abs(row.value))}}
            </div>
        </template>
-->

        <template slot="formattedAmount" slot-scope="row">
            <div :class="getColorAmount(row.value)">
                {{ row.value }}
            </div>
        </template>

<!--
        <template slot="confirmations" slot-scope="row">
            <span id="confirmations">{{ row.value || '0' }}</span>
        </template>
-->

        <template slot="txid" slot-scope="row">
            <div id="btn-group-tx" class="d-flex flex-row justify-content-center w-100">
                <button
                  class="btn btn-tx pointer"
                  id="btn-tx-id"
                  :explorer="row.explorer"
                  @click="openTxExplorer(row)">
                    {{row.value.substring(0,4)}}...{{row.value.substring(row.value.length-4,row.value.length)}}</button>
                <button
                  class="btn btn-tx pointer"
                  id="btn-logo"
                  @click.prevent="copyToClipboard(row)">
                  <i class="far fa-copy btn-copy-link"></i>
                  <!-- <img src="~@/assets/icon-copy-paste.svg" alt=""> -->
                </button>
            </div>
        </template>
    </b-table>

    <b-pagination-nav
      align="center"
      :number-of-pages="Math.round(this.totalRows/perPage)"
      v-model="currentPage"
      :link-gen="linkGen"
      class="my-0"/>

</div>
